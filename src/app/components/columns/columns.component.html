<div *ngIf="error" class="error-message">{{ error }}</div>
<div class="columns-container">
  <div *ngFor="let column of columns" class="column" (dragover)="onDragOver($event)" (drop)="onDrop($event, column.id)">
    <button mat-icon-button color="primary" (click)="openCreateCardModal(column.id)">
      <mat-icon>add</mat-icon>
    </button>
    <h2>{{ column.label }}</h2>
    <div class="cards-container">
      <ng-container *ngIf="getCardsForColumn(column.id).length > 0; else noCards">
        <mat-card *ngFor="let card of getCardsForColumn(column.id)"
                  class="card"
                  draggable="true"
                  (dragstart)="onDragStart($event, card)">
          <mat-card-title (click)="toggleAnswer(card)" class="clickable">{{ card.question }}</mat-card-title>
          <mat-card-content>
            <p>{{ card.description }}</p>
            <p *ngIf="card.showAnswer" class="answer">{{ card.answer }}</p>
          </mat-card-content>
        </mat-card>
      </ng-container>
      <ng-template #noCards>
        <p>Pas de cartes</p>
      </ng-template>
    </div>
  </div>
</div>
